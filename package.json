{
  "name": "atlas",
  "private": true,

  "workspaces": [
    "apps/*",
    "libs/*"
  ],

  "scripts": {
    "postinstall": "npm run prisma:generate",
    "dev": "concurrently -n \"DB,FRONTEND,BACKEND\" -c \"blue,green,yellow\" \"npm run dev:db\" \"npm run dev:frontend\" \"npm run dev:backend\"",
    "dev:frontend": "npm run dev -w atlas-frontend",
    "dev:backend": "npm run start:dev -w atlas-backend",
    "dev:db": "docker-compose -f docker/docker-compose.yml up",

    "lint": "npm run lint --workspaces --if-present",
    "build": "npm run build:libs && npm run build --workspaces --if-present",
    "build:libs": "npm run build -w @atlas/types && npm run build -w @atlas/database",

    "prisma:generate": "prisma generate --schema=libs/database/prisma/schema.prisma",
    "prisma:migrate": "prisma migrate dev --schema=libs/database/prisma/schema.prisma",
    "prisma:studio": "prisma studio --config=libs/database/prisma.config.ts",
    "prisma:format": "prisma format --schema=libs/database/prisma/schema.prisma",
    "db:fix-collation": "docker exec atlas-postgres psql -U postgres -d postgres -c \"ALTER DATABASE postgres REFRESH COLLATION VERSION;\" && docker exec atlas-postgres psql -U postgres -d atlas -c \"ALTER DATABASE atlas REFRESH COLLATION VERSION;\""
  },

  "devDependencies": {
    "typescript": "^5.3.0",
    "eslint": "^8.56.0",
    "prettier": "^3.1.0",
    "concurrently": "^9.1.0"
  }
}